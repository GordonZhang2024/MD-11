<?xml version="1.0"?>

<!-- McDonnell Douglas MD-11 Cockpit -->
<!-- Copyright (c) 2024 Josh Davidson (Octal450) -->

<system name="MD-11: Cockpit"> <!-- Everything here is after all systems -->
	
	<channel name="Animations">
		
		<!-- General -->
		<lag_filter name="/controls/cockpit/aileron-yoke">
			<input>hydraulics/aileron-yoke-sum</input>
			<c1>20</c1>
		</lag_filter>
		
		<pure_gain name="/controls/cockpit/armrest-rotate-cmd">
			<input>/controls/cockpit/armrest</input>
			<gain>1.0</gain>
			<clipto>
				<min>0.2</min>
				<max>1.0</max>
			</clipto>
		</pure_gain>
		
		<lag_filter name="/controls/cockpit/armrest-rotate">
			<input>/controls/cockpit/armrest-rotate-cmd</input>
			<c1>10</c1>
		</lag_filter>
		
		<pure_gain name="/controls/cockpit/armrest-translate-cmd">
			<input>/controls/cockpit/armrest</input>
			<gain>0.2</gain>
		</pure_gain>
		
		<lag_filter name="/controls/cockpit/armrest-translate">
			<input>/controls/cockpit/armrest-translate-cmd</input>
			<c1>10</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/brake-pedal-left">
			<input>/controls/gear/brake-left</input>
			<c1>5</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/brake-pedal-right">
			<input>/controls/gear/brake-right</input>
			<c1>5</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/compass">
			<input>/controls/cockpit/compass-cmd</input>
			<c1>10</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/elevator-yoke">
			<input>hydraulics/elevator-yoke-switch</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/fcp/afs-ovrd-1">
			<input>/it-autoflight/input/ovrd1</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/fcp/afs-ovrd-2">
			<input>/it-autoflight/input/ovrd2</input>
			<c1>20</c1>
		</lag_filter>
		
		<linear_actuator name="/controls/cockpit/fcp/bank-limit-linear">
			<input>/it-autoflight/input/bank-limit-sw</input>
			<module>6</module>
		</linear_actuator>
		
		<lag_filter name="/controls/cockpit/fcp/bank-limit">
			<input>/controls/cockpit/fcp/bank-limit-linear</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/fcp/flood-knb">
			<input>/controls/lighting/fcp-flood-knb</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/fcp/integ-knb">
			<input>/controls/lighting/fcp-integ-knb</input>
			<c1>20</c1>
		</lag_filter>
		
		<actuator name="/controls/cockpit/gear-lever">
			<input>/controls/gear/lever-cockpit</input>
			<rate_limit>4.5</rate_limit>
			<lag>20</lag>
		</actuator>
		
		<lag_filter name="/controls/cockpit/rudder-pedal">
			<input>hydraulics/rudder/pedal-sum</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/shade-left">
			<input>/controls/cockpit/shade-left-cmd</input>
			<c1>10</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/shade-right">
			<input>/controls/cockpit/shade-right-cmd</input>
			<c1>10</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/tiller-handle">
			<input>hydraulics/tiller/handle</input>
			<c1>20</c1>
		</lag_filter>
		
		<!-- Pedestal -->
		<lag_filter name="/controls/cockpit/abs-knob">
			<input>/controls/gear/abs/knob</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/adg-handle">
			<input>/controls/switches/adg-handle</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/aileron-trim">
			<input>/controls/flight/aileron-trim</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/brake-lever">
			<input>/controls/gear/brake-parking</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/dial-a-flap">
			<input>/controls/flight/dial-a-flap</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/elevator-trim-lever">
			<input>/controls/flight/elevator-trim-lever</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/engine-cutoff[0]">
			<input>/controls/engines/engine[0]/cutoff-switch</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/engine-cutoff[1]">
			<input>/controls/engines/engine[1]/cutoff-switch</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/engine-cutoff[2]">
			<input>/controls/engines/engine[2]/cutoff-switch</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/flaps-lever-rotate">
			<input>/controls/flight/flaps-input</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/flaps-lever-translate">
			<input>/controls/cockpit/flaps-lever-translate-cmd</input>
			<c1>30</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/mcdu[0]/dimmer">
			<input>/instrumentation/du/mcdu1-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/mcdu[1]/dimmer">
			<input>/instrumentation/du/mcdu2-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/mcdu[2]/dimmer">
			<input>/instrumentation/du/mcdu3-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/reverse-lever[0]">
			<input>/controls/engines/engine[0]/reverse-lever</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/reverse-lever[1]">
			<input>/controls/engines/engine[1]/reverse-lever</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/reverse-lever[2]">
			<input>/controls/engines/engine[2]/reverse-lever</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/rudder-trim">
			<input>/controls/flight/rudder-trim</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/screensel/du1-dimmer">
			<input>/instrumentation/du/du1-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/screensel/du2-dimmer">
			<input>/instrumentation/du/du2-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/screensel/du3-dimmer">
			<input>/instrumentation/du/du3-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/screensel/du4-dimmer">
			<input>/instrumentation/du/du4-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/screensel/du5-dimmer">
			<input>/instrumentation/du/du5-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/screensel/du6-dimmer">
			<input>/instrumentation/du/du6-dimmer</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/spoilers-lever-rotate">
			<input>spoilers/lever-cmd</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/spoilers-lever-translate">
			<input>/controls/flight/speedbrake-arm</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/start-switch-1">
			<input>/systems/ignition/start-switch-1</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/start-switch-2">
			<input>/systems/ignition/start-switch-2</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/start-switch-3">
			<input>/systems/ignition/start-switch-3</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/throttle-lever[0]">
			<input>fadec/control-1/throttle-pos</input>
			<c1>20</c1>
			<output>fadec/throttle-lever-feedback[0]</output>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/throttle-lever[1]">
			<input>fadec/control-2/throttle-pos</input>
			<c1>20</c1>
			<output>fadec/throttle-lever-feedback[1]</output>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/throttle-lever[2]">
			<input>fadec/control-3/throttle-pos</input>
			<c1>20</c1>
			<output>fadec/throttle-lever-feedback[2]</output>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/xpdr-alt">
			<input>/instrumentation/transponder/input/alt-report</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/xpdr-knob">
			<input>/instrumentation/transponder/output/knob</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/xpdr-sw">
			<input>/instrumentation/transponder/input/xpdr</input>
			<c1>20</c1>
		</lag_filter>
		
		<!-- Overhead -->
		<lag_filter name="/controls/cockpit/overhead/aft-temp">
			<input>/controls/pneumatics/switches/aft-temp</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/cargo-aft-temp">
			<input>/controls/pneumatics/switches/cargo-aft-temp</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/cargo-fwd-temp">
			<input>/controls/pneumatics/switches/cargo-fwd-temp</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/cockpit-temp">
			<input>/controls/pneumatics/switches/cockpit-temp</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/elevator-feel">
			<input>/controls/fcc/switches/elevator-feel</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/emer-lt">
			<input>/controls/lighting/emer-lt</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/emer-pwr">
			<input>/controls/electrical/switches/emer-pwr</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/fwd-temp">
			<input>/controls/pneumatics/switches/fwd-temp</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/flap-limit">
			<input>/controls/fcc/switches/flap-limit</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/gpws-ovrd">
			<input>/controls/switches/gpws-ovrd</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/gpws-ovrd-cover">
			<input>/controls/switches/gpws-ovrd-cover</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/iru-knob[0]">
			<input>/controls/iru[0]/switches/knob</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/iru-knob[1]">
			<input>/controls/iru[1]/switches/knob</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/iru-knob[2]">
			<input>/controls/iru[2]/switches/knob</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/landing-light-l">
			<input>/controls/lighting/landing-light-l</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/landing-light-n">
			<input>/controls/lighting/landing-light-n</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/landing-light-r">
			<input>/controls/lighting/landing-light-r</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/main-flood-knb">
			<input>/controls/lighting/main-flood-knb</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/main-integ-knb">
			<input>/controls/lighting/main-integ-knb</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/mid-temp">
			<input>/controls/pneumatics/switches/mid-temp</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/no-smoking-sign">
			<input>/controls/switches/no-smoking-sign</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/overhead-flood-knb">
			<input>/controls/lighting/overhead-flood-knb</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/overhead-integ-knb">
			<input>/controls/lighting/overhead-integ-knb</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/seatbelt-sign">
			<input>/controls/switches/seatbelt-sign</input>
			<c1>20</c1>
		</lag_filter>
		
		<linear_actuator name="/controls/cockpit/overhead/smoke-elec-air-cmd">
			<input>/controls/electrical/switches/smoke-elec-air</input>
			<module>4</module>
			<rate>0.5</rate>
		</linear_actuator>
		
		<lag_filter name="/controls/cockpit/overhead/smoke-elec-air">
			<input>/controls/cockpit/overhead/smoke-elec-air-cmd</input>
			<c1>20</c1>
		</lag_filter>
		
		<lag_filter name="/controls/cockpit/overhead/thunderstorm">
			<input>/controls/lighting/thunderstorm</input>
			<c1>20</c1>
		</lag_filter>
	
	</channel>
	
	<channel name="Lights" execrate="8">
		
		<switch name="/controls/fcc/lights/elevator-feel-manual">
			<default value="0"/>
			<test logic="OR" value="1">
				fcc/elevator-feel/auto ne 1
				/systems/failures/fcc/elevator-feel eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/flap-limit-manual">
			<default value="0"/>
			<test logic="OR" value="1">
				/controls/fcc/switches/flap-limit gt 0
				/systems/failures/fcc/flap-limit eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/lsas-left-out-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/lsas-left-out eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/lsas-left-in-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/lsas-left-in eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/lsas-right-in-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/lsas-right-in eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/lsas-right-out-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/lsas-right-out eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/yd-upper-a-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/yd-upper-a eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/yd-upper-b-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/yd-upper-b eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/yd-lower-a-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/yd-lower-a eq 1
			</test>
		</switch>
		
		<switch name="/controls/fcc/lights/yd-lower-b-fail">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/iru-common/any-aligned-out ne 1
				/systems/failures/fcc/yd-lower-b eq 1
			</test>
		</switch>
	
	</channel>

</system>
